<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>systemd Persistence | Nekrosis</title>
    <meta name="description" content="Multi-platform persistence toolkit for user-provided payloads.">
    <meta name="generator" content="VitePress v1.1.3">
    <link rel="preload stylesheet" href="/assets/style.C04hBX6y.css" as="style">
    
    <script type="module" src="/assets/app.DY7O6uHL.js"></script>
    <link rel="preload" href="/assets/inter-roman-latin.Di8DUHzh.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/assets/chunks/framework.DhS4kvOD.js">
    <link rel="modulepreload" href="/assets/chunks/theme.9W1r_t1o.js">
    <link rel="modulepreload" href="/assets/Persistence Methods_Linux Persistence_systemd.md.DLOYWZyc.lean.js">
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-5d98c3a5><!--[--><!--]--><!--[--><span tabindex="-1" data-v-0f60ec36></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-0f60ec36> Skip to content </a><!--]--><!----><header class="VPNav" data-v-5d98c3a5 data-v-ae24b3ad><div class="VPNavBar has-sidebar top" data-v-ae24b3ad data-v-ccf7ddec><div class="wrapper" data-v-ccf7ddec><div class="container" data-v-ccf7ddec><div class="title" data-v-ccf7ddec><div class="VPNavBarTitle has-sidebar" data-v-ccf7ddec data-v-ab179fa1><a class="title" href="/" data-v-ab179fa1><!--[--><!--]--><!--[--><img class="VPImage logo" src="/nekrosis.png" width="24" height="24" alt data-v-8426fc1a><!--]--><span data-v-ab179fa1>Nekrosis</span><!--[--><!--]--></a></div></div><div class="content" data-v-ccf7ddec><div class="content-body" data-v-ccf7ddec><!--[--><!--]--><div class="VPNavBarSearch search" data-v-ccf7ddec><!----></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-ccf7ddec data-v-7f418b0f><span id="main-nav-aria-label" class="visually-hidden" data-v-7f418b0f>Main Navigation</span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/" tabindex="0" data-v-7f418b0f data-v-9c663999><!--[--><span data-v-9c663999>Home</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/getting-started.html" tabindex="0" data-v-7f418b0f data-v-9c663999><!--[--><span data-v-9c663999>Getting Started</span><!--]--></a><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-ccf7ddec data-v-e6aabb21><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="Switch to dark theme" aria-checked="false" data-v-e6aabb21 data-v-d1f28634 data-v-1d5665e3><span class="check" data-v-1d5665e3><span class="icon" data-v-1d5665e3><!--[--><span class="vpi-sun sun" data-v-d1f28634></span><span class="vpi-moon moon" data-v-d1f28634></span><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-ccf7ddec data-v-0394ad82 data-v-7bc22406><!--[--><a class="VPSocialLink no-icon" href="https://github.com/Nekrosis-ISS-Capstone/Nekrosis" aria-label="github" target="_blank" rel="noopener" data-v-7bc22406 data-v-eee4e7cb><span class="vpi-social-github" /></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-ccf7ddec data-v-d0bd9dde data-v-b6c34ac9><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-b6c34ac9><span class="vpi-more-horizontal icon" data-v-b6c34ac9></span></button><div class="menu" data-v-b6c34ac9><div class="VPMenu" data-v-b6c34ac9 data-v-e7ea1737><!----><!--[--><!--[--><!----><div class="group" data-v-d0bd9dde><div class="item appearance" data-v-d0bd9dde><p class="label" data-v-d0bd9dde>Appearance</p><div class="appearance-action" data-v-d0bd9dde><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="Switch to dark theme" aria-checked="false" data-v-d0bd9dde data-v-d1f28634 data-v-1d5665e3><span class="check" data-v-1d5665e3><span class="icon" data-v-1d5665e3><!--[--><span class="vpi-sun sun" data-v-d1f28634></span><span class="vpi-moon moon" data-v-d1f28634></span><!--]--></span></span></button></div></div></div><div class="group" data-v-d0bd9dde><div class="item social-links" data-v-d0bd9dde><div class="VPSocialLinks social-links-list" data-v-d0bd9dde data-v-7bc22406><!--[--><a class="VPSocialLink no-icon" href="https://github.com/Nekrosis-ISS-Capstone/Nekrosis" aria-label="github" target="_blank" rel="noopener" data-v-7bc22406 data-v-eee4e7cb><span class="vpi-social-github" /></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-ccf7ddec data-v-e5dd9c1c><span class="container" data-v-e5dd9c1c><span class="top" data-v-e5dd9c1c></span><span class="middle" data-v-e5dd9c1c></span><span class="bottom" data-v-e5dd9c1c></span></span></button></div></div></div></div><div class="divider" data-v-ccf7ddec><div class="divider-line" data-v-ccf7ddec></div></div></div><!----></header><div class="VPLocalNav has-sidebar empty" data-v-5d98c3a5 data-v-a6f0e41e><div class="container" data-v-a6f0e41e><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-a6f0e41e><span class="vpi-align-left menu-icon" data-v-a6f0e41e></span><span class="menu-text" data-v-a6f0e41e>Menu</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-a6f0e41e data-v-267dd0ed><button data-v-267dd0ed>Return to top</button><!----></div></div></div><aside class="VPSidebar" data-v-5d98c3a5 data-v-575e6a36><div class="curtain" data-v-575e6a36></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-575e6a36><span class="visually-hidden" id="sidebar-aria-label" data-v-575e6a36> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="group" data-v-575e6a36><section class="VPSidebarItem level-0" data-v-575e6a36 data-v-b8d55f3b><div class="item" role="button" tabindex="0" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><h2 class="text" data-v-b8d55f3b>Getting Started</h2><!----></div><div class="items" data-v-b8d55f3b><!--[--><div class="VPSidebarItem level-1 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/getting-started.html" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>Getting Started</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-575e6a36><section class="VPSidebarItem level-0" data-v-575e6a36 data-v-b8d55f3b><div class="item" role="button" tabindex="0" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><h2 class="text" data-v-b8d55f3b>Installation</h2><!----></div><div class="items" data-v-b8d55f3b><!--[--><div class="VPSidebarItem level-1 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/Installation/cli.html" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>Command Line</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/Installation/api.html" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>Python API</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-575e6a36><section class="VPSidebarItem level-0" data-v-575e6a36 data-v-b8d55f3b><div class="item" role="button" tabindex="0" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><h2 class="text" data-v-b8d55f3b>Usage</h2><!----></div><div class="items" data-v-b8d55f3b><!--[--><div class="VPSidebarItem level-1 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/Usage/cli.html" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>Command Line</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/Usage/api.html" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>Python API</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-575e6a36><section class="VPSidebarItem level-0 has-active" data-v-575e6a36 data-v-b8d55f3b><div class="item" role="button" tabindex="0" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><h2 class="text" data-v-b8d55f3b>Persistence</h2><!----></div><div class="items" data-v-b8d55f3b><!--[--><div class="VPSidebarItem level-1 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/Persistence%20Methods/overview.html" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>Overview</p><!--]--></a><!----></div><!----></div><section class="VPSidebarItem level-1 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" tabindex="0" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/Persistence%20Methods/Windows%20Persistence/overview.html" data-v-b8d55f3b><!--[--><h3 class="text" data-v-b8d55f3b>Windows Persistence</h3><!--]--></a><!----></div><div class="items" data-v-b8d55f3b><!--[--><div class="VPSidebarItem level-2 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/Persistence%20Methods/Windows%20Persistence/runkey.html" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>Run Key</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/Persistence%20Methods/Windows%20Persistence/shortcut.html" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>Shortcut</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/Persistence%20Methods/Windows%20Persistence/startupfolder.html" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>Startup Folder</p><!--]--></a><!----></div><!----></div><!--]--></div></section><section class="VPSidebarItem level-1 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" tabindex="0" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/Persistence%20Methods/macOS%20Persistence/overview.html" data-v-b8d55f3b><!--[--><h3 class="text" data-v-b8d55f3b>macOS Persistence</h3><!--]--></a><!----></div><div class="items" data-v-b8d55f3b><!--[--><div class="VPSidebarItem level-2 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/Persistence%20Methods/macOS%20Persistence/launchd-standard-user.html" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>launchd - Launch Agent</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/Persistence%20Methods/macOS%20Persistence/launchd-root.html" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>launchd - Launch Daemon</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/Persistence%20Methods/macOS%20Persistence/launchd-electron.html" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>launchd - Electron</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/Persistence%20Methods/macOS%20Persistence/launchd-root-volume.html" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>launchd - System</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/Persistence%20Methods/macOS%20Persistence/cronjobs.html" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>Cron Jobs</p><!--]--></a><!----></div><!----></div><!--]--></div></section><section class="VPSidebarItem level-1 is-link has-active" data-v-b8d55f3b data-v-b8d55f3b><div class="item" tabindex="0" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/Persistence%20Methods/Linux%20Persistence/overview.html" data-v-b8d55f3b><!--[--><h3 class="text" data-v-b8d55f3b>Linux Persistence</h3><!--]--></a><!----></div><div class="items" data-v-b8d55f3b><!--[--><div class="VPSidebarItem level-2 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/Persistence%20Methods/Linux%20Persistence/systemd.html" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>systemd</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/Persistence%20Methods/Linux%20Persistence/cronjobs.html" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>Cron Jobs</p><!--]--></a><!----></div><!----></div><!--]--></div></section><!--]--></div></section></div><div class="group" data-v-575e6a36><section class="VPSidebarItem level-0" data-v-575e6a36 data-v-b8d55f3b><div class="item" role="button" tabindex="0" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><h2 class="text" data-v-b8d55f3b>Sample Payloads</h2><!----></div><div class="items" data-v-b8d55f3b><!--[--><div class="VPSidebarItem level-1 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/Sample%20Payloads/windows.html" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>Windows Payload</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/Sample%20Payloads/linux-macos.html" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>Linux/macOS Payload</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-5d98c3a5 data-v-1428d186><div class="VPDoc has-sidebar has-aside" data-v-1428d186 data-v-39a288b8><!--[--><!--]--><div class="container" data-v-39a288b8><div class="aside" data-v-39a288b8><div class="aside-curtain" data-v-39a288b8></div><div class="aside-container" data-v-39a288b8><div class="aside-content" data-v-39a288b8><div class="VPDocAside" data-v-39a288b8 data-v-3f215769><!--[--><!--]--><!--[--><!--]--><div class="VPDocAsideOutline" role="navigation" data-v-3f215769 data-v-935f8a84><div class="content" data-v-935f8a84><div class="outline-marker" data-v-935f8a84></div><div class="outline-title" role="heading" aria-level="2" data-v-935f8a84>On this page</div><nav aria-labelledby="doc-outline-aria-label" data-v-935f8a84><span class="visually-hidden" id="doc-outline-aria-label" data-v-935f8a84> Table of Contents for current page </span><ul class="VPDocOutlineItem root" data-v-935f8a84 data-v-b933a997><!--[--><!--]--></ul></nav></div></div><!--[--><!--]--><div class="spacer" data-v-3f215769></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-39a288b8><div class="content-container" data-v-39a288b8><!--[--><!--]--><main class="main" data-v-39a288b8><div style="position:relative;" class="vp-doc _Persistence%20Methods_Linux%20Persistence_systemd" data-v-39a288b8><div><h1 id="systemd-persistence" tabindex="-1">systemd Persistence <a class="header-anchor" href="#systemd-persistence" aria-label="Permalink to &quot;systemd Persistence&quot;">​</a></h1><h3 id="description" tabindex="-1">Description <a class="header-anchor" href="#description" aria-label="Permalink to &quot;Description&quot;">​</a></h3><p>This method relies on the <code>systemd</code> service manager to run the payload as the root user. Compared to normal <code>systemd</code> usage, this method will attempt to mask itself as a legitimate service that are common on most distributions but may be missing on the target system.</p><p>Services defined in Nekrosis&#39; <a href="https://github.com/Nekrosis-ISS-Capstone/Nekrosis/blob/main/nekrosis/support/linux_utilities/systemd.py" target="_blank" rel="noreferrer">systemd.py</a>:</p><details class="details custom-block"><summary>Services and Descriptions</summary><table><thead><tr><th style="text-align:left;">Service</th><th style="text-align:left;">Description</th></tr></thead><tbody><tr><td style="text-align:left;">acpid</td><td style="text-align:left;">Advanced Configuration and Power Interface event daemon</td></tr><tr><td style="text-align:left;">anacron</td><td style="text-align:left;">Anacron is like cron, but it does not assume that the machine is running continuously. Hence, it can be used on machines that aren’t running 24 hours a day, to control daily, weekly, and monthly jobs that are usually controlled by cron.</td></tr><tr><td style="text-align:left;">apmd</td><td style="text-align:left;">Advanced Power Management Subsystem (old system). If the server is capable of ACPI support, disable this service</td></tr><tr><td style="text-align:left;">auditd</td><td style="text-align:left;">The Linux Auditing System</td></tr><tr><td style="text-align:left;">atd</td><td style="text-align:left;">atd runs jobs queued by at</td></tr><tr><td style="text-align:left;">autofs</td><td style="text-align:left;">The automount(8) program is used to manage mount points for autofs, the inlined Linux automounter. You can mount NFS, USB, DVD/CD, and CIFS via /etc/fstab.</td></tr><tr><td style="text-align:left;">avahi-daemon</td><td style="text-align:left;">The Avahi mDNS/DNS-SD daemon implementing Apple’s ZeroConf architecture (also known as “Rendezvous” or “Bonjour”).</td></tr><tr><td style="text-align:left;">bluetooth</td><td style="text-align:left;">Bluetooth services for service discovery, authentication, Human Interface Devices (hidd), etc</td></tr><tr><td style="text-align:left;">cpuspeed</td><td style="text-align:left;">This service monitors the system’s idle percentage and reduces or raises the CPUs’ clock speeds and voltages accordingly to minimize power consumption when idle and maximize performance when needed</td></tr><tr><td style="text-align:left;">crond</td><td style="text-align:left;">Service to execute scheduled commands via crond daemon.</td></tr><tr><td style="text-align:left;">cups</td><td style="text-align:left;">Common unix printing system service</td></tr><tr><td style="text-align:left;">dc_client</td><td style="text-align:left;">Startup script for the Distcache SSL Session Cache Client and server proxy. Disable if you do not need cache proxy.</td></tr><tr><td style="text-align:left;">dnsmasq</td><td style="text-align:left;">the DNS caching server. Enable if your ISP or remote DNS caching server is pretty slow.</td></tr><tr><td style="text-align:left;">dkmdkms_autoinstallers</td><td style="text-align:left;">dkms is a framework which allows kernel modules to be dynamically built for each kernel on your system in a simplified and organized fashion. Disable if possible</td></tr><tr><td style="text-align:left;">firstboot</td><td style="text-align:left;">RHLE specific service. It does a few configuration following successful installation of the operating system.</td></tr><tr><td style="text-align:left;">gpm</td><td style="text-align:left;">A cut and paste utility and mouse server service for virtual consoles.</td></tr><tr><td style="text-align:left;">haldaemon</td><td style="text-align:left;">This service is used for collecting and maintaing information about hardware from several sources. This is only used for X and desktop apps. Disable it on servers.</td></tr><tr><td style="text-align:left;">hplip</td><td style="text-align:left;">A service for non-PostScript HP printer. Disable it on servers.</td></tr><tr><td style="text-align:left;">irda</td><td style="text-align:left;">IrDA(TM) (Infrared Data Association) is an industry standard for wireless, infrared communication between devices. IrDA speeds range from 9600 bps to 4 Mbps, and IrDA can be used by many modern devices including laptops, LAN adapters, PDAs, printers, and mobile phones. Disable if possible</td></tr><tr><td style="text-align:left;">iscsi</td><td style="text-align:left;">iscsi service logs into iSCSI targets needed at system startup (i.e. iscsi client). iscsid will start and stop iSCSI daemon. Use this if you’ve iscsi based storage. Disable if possible</td></tr><tr><td style="text-align:left;">iptables</td><td style="text-align:left;">IPv4 and IPv6 firewall service.</td></tr><tr><td style="text-align:left;">irqbalance</td><td style="text-align:left;">The irqbalance service will distribute interrupts across the cpus on a multiprocessor system with the purpose of spreading the load.</td></tr><tr><td style="text-align:left;">isdn</td><td style="text-align:left;">Provides the Internet connectivity using an ISDN modem. Disable if not using an ISDN modem.</td></tr><tr><td style="text-align:left;">kdump</td><td style="text-align:left;">Kernel crash dump analyzer. This service is useful for kernel hackers and device driver development or testing new kernel feature. Dsable the service on production boxes.</td></tr><tr><td style="text-align:left;">kudzu</td><td style="text-align:left;">RHEL specific hardware detection service. This is required on desktop or laptop where end users can add a new hardware but not on servers.</td></tr><tr><td style="text-align:left;">lm_sensors</td><td style="text-align:left;">lm_sensors is used for monitoring motherboard sensor values.</td></tr><tr><td style="text-align:left;">lvm2-monitor</td><td style="text-align:left;">Starts and stops dmeventd monitoring for lvm2. If you are not using LVM2 (Linux volume manager) based storage disable it.</td></tr><tr><td style="text-align:left;">mcstrans</td><td style="text-align:left;">Starts the SELinux Context Translation System daemon. This is site specific SELinux requirements. Disable if possible</td></tr><tr><td style="text-align:left;">mdmonitor</td><td style="text-align:left;">software RAID monitoring and management service. If you are not using software RAID disable it. This is not required for hardware RAID setup as they comes with their own programs. Disable if possible</td></tr><tr><td style="text-align:left;">messagebus</td><td style="text-align:left;">This service broadcasts notifications of system events and other messages (D-bus). Turn it on for bluetooth, X Windows and desktop systems.</td></tr><tr><td style="text-align:left;">microcode_ctl</td><td style="text-align:left;">Script to apply cpu microcode for Intel IA32 processor. If you are not using Intel IA32 processor disable it.</td></tr><tr><td style="text-align:left;">netfs</td><td style="text-align:left;">Mount and configure Linux network network filesystems (NFS). If you are not using NFS client/server technology disable it.</td></tr><tr><td style="text-align:left;">network</td><td style="text-align:left;">A service to activates/deactivates all network interfaces configured to start at boot time.</td></tr><tr><td style="text-align:left;">pcscd</td><td style="text-align:left;">The PC/SC smart card sevice is a resource manager for the PC/SC lite and Musclecard frameworks. It coordinatescommunications with smart card readers, smart cards, and cryptographic tokens that are connected to the system.If Smart Cards are not in use on the system, disable this service:</td></tr><tr><td style="text-align:left;">readahead_early</td><td style="text-align:left;">This sevice provide one-time caching of files belonging to a few boot services. It does not provide any boosting. Just disable it.</td></tr><tr><td style="text-align:left;">readahead_later</td><td style="text-align:left;">This sevice provide one-time caching of files belonging to a few boot services. It does not provide any boosting. Just disable it.</td></tr><tr><td style="text-align:left;">restorecond</td><td style="text-align:left;">This service restores the correct security context for SELinux.</td></tr><tr><td style="text-align:left;">rhnsd</td><td style="text-align:left;">This service handles the task of connecting periodically to the RHN servers to check for updates, notifications and perform system monitoring tasks according to the service level that your server is subscribed for. Disable this service and use yum-updatesd service.</td></tr><tr><td style="text-align:left;">sendmail</td><td style="text-align:left;">Use to start sendmail server.</td></tr><tr><td style="text-align:left;">smartd</td><td style="text-align:left;">Self Monitoring and Reporting Technology (SMART) Daemon for hard disks.</td></tr><tr><td style="text-align:left;">setroubleshoot</td><td style="text-align:left;">This service starts the SELinux Troubleshooting daemon. It will send notification tothe desktop user of SELinux access denied messages in a user-friendly fashion.</td></tr><tr><td style="text-align:left;">sshd</td><td style="text-align:left;">The openssh server. If you need remote login enable it. You must enable this on all servers so that you can login and configure everything.</td></tr><tr><td style="text-align:left;">syslog</td><td style="text-align:left;">Syslog is the facility by which many other Linux daemons use to log messages to various system log files. It is a good idea to always run syslog.</td></tr><tr><td style="text-align:left;">xfs</td><td style="text-align:left;">X Windows font server. Disable it on servers.</td></tr><tr><td style="text-align:left;">yum-updatesd</td><td style="text-align:left;">Update notification daemon for system packages.</td></tr></tbody></table></details><h3 id="available-method" tabindex="-1">Available Method <a class="header-anchor" href="#available-method" aria-label="Permalink to &quot;Available Method&quot;">​</a></h3><table><thead><tr><th style="text-align:left;">Method</th><th style="text-align:left;">Requires</th><th style="text-align:left;">Runs As</th></tr></thead><tbody><tr><td style="text-align:left;"><code>SystemdService</code></td><td style="text-align:left;">Root</td><td style="text-align:left;">Root</td></tr></tbody></table><h3 id="demo" tabindex="-1">Demo: <a class="header-anchor" href="#demo" aria-label="Permalink to &quot;Demo:&quot;">​</a></h3><h4 id="systemd-persistence-1" tabindex="-1">- systemd Persistence <a class="header-anchor" href="#systemd-persistence-1" aria-label="Permalink to &quot;- systemd Persistence&quot;">​</a></h4><div class="vp-code-group vp-adaptive-theme"><div class="tabs"><input type="radio" name="group-RmZsa" id="tab-N8fW55B" checked="checked"><label for="tab-N8fW55B">Command Line</label><input type="radio" name="group-RmZsa" id="tab-X9q3iyC"><label for="tab-X9q3iyC">Python API</label></div><div class="blocks"><div class="language-shell vp-adaptive-theme active"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">nekrosis</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --payload</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /path/to/payload</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --method</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;SystemdService&quot;</span></span></code></pre></div><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> nekrosis </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Nekrosis</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">nekrosis_obj </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Nekrosis(</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  payload</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;/path/to/payload&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  custom_method</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;SystemdService&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">nekrosis_obj.install()</span></span></code></pre></div></div></div><p><img src="/assets/systemd.VRpablZu.png" alt=""></p></div></div></main><footer class="VPDocFooter" data-v-39a288b8 data-v-09de1c0f><!--[--><!--]--><!----><nav class="prev-next" data-v-09de1c0f><div class="pager" data-v-09de1c0f><a class="VPLink link pager-link prev" href="/Persistence%20Methods/Linux%20Persistence/overview.html" data-v-09de1c0f><!--[--><span class="desc" data-v-09de1c0f>Previous page</span><span class="title" data-v-09de1c0f>Linux Persistence</span><!--]--></a></div><div class="pager" data-v-09de1c0f><a class="VPLink link pager-link next" href="/Persistence%20Methods/Linux%20Persistence/cronjobs.html" data-v-09de1c0f><!--[--><span class="desc" data-v-09de1c0f>Next page</span><span class="title" data-v-09de1c0f>Cron Jobs</span><!--]--></a></div></nav></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><!----><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"persistence methods_linux persistence_cronjobs.md\":\"DXtHEnxa\",\"persistence methods_linux persistence_overview.md\":\"CQEPkkIx\",\"persistence methods_macos persistence_launchd-electron.md\":\"Bovr8I99\",\"installation_api.md\":\"wIsde69B\",\"persistence methods_macos persistence_launchd-standard-user.md\":\"B5kM6A_V\",\"persistence methods_linux persistence_systemd.md\":\"DLOYWZyc\",\"installation_cli.md\":\"ClOpj8an\",\"persistence methods_macos persistence_overview.md\":\"CEMVy3RH\",\"persistence methods_windows persistence_startupfolder.md\":\"KGXjJfLO\",\"persistence methods_macos persistence_cronjobs.md\":\"BJFsGM-M\",\"persistence methods_macos persistence_launchd-root-volume.md\":\"-KgzyKzZ\",\"persistence methods_windows persistence_shortcut.md\":\"DaEMubu0\",\"persistence methods_windows persistence_runkey.md\":\"BzdeR5fk\",\"persistence methods_windows persistence_overview.md\":\"BGUmAVGE\",\"persistence methods_overview.md\":\"CDmvGq1f\",\"persistence methods_macos persistence_launchd-root.md\":\"BN6_zEC8\",\"sample payloads_linux-macos.md\":\"BcCLoEUN\",\"usage_api.md\":\"DMbdve3A\",\"usage_cli.md\":\"CuPCP4aS\",\"getting-started.md\":\"D7YV4grF\",\"index.md\":\"BrKCT8IQ\",\"sample payloads_windows.md\":\"BH7Z-PI9\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"en-US\",\"dir\":\"ltr\",\"title\":\"Nekrosis\",\"description\":\"Multi-platform persistence toolkit for user-provided payloads.\",\"base\":\"/\",\"head\":[],\"router\":{\"prefetchLinks\":true},\"appearance\":true,\"themeConfig\":{\"nav\":[{\"text\":\"Home\",\"link\":\"/\"},{\"text\":\"Getting Started\",\"link\":\"/getting-started\"}],\"logo\":{\"src\":\"/nekrosis.png\",\"width\":24,\"height\":24},\"sidebar\":[{\"text\":\"Getting Started\",\"items\":[{\"text\":\"Getting Started\",\"link\":\"/getting-started\"}]},{\"text\":\"Installation\",\"items\":[{\"text\":\"Command Line\",\"link\":\"/Installation/cli\"},{\"text\":\"Python API\",\"link\":\"/Installation/api\"}]},{\"text\":\"Usage\",\"items\":[{\"text\":\"Command Line\",\"link\":\"/Usage/cli\"},{\"text\":\"Python API\",\"link\":\"/Usage/api\"}]},{\"text\":\"Persistence\",\"items\":[{\"text\":\"Overview\",\"link\":\"/Persistence Methods/overview\"},{\"text\":\"Windows Persistence\",\"link\":\"/Persistence Methods/Windows Persistence/overview\",\"items\":[{\"text\":\"Run Key\",\"link\":\"/Persistence Methods/Windows Persistence/runkey\"},{\"text\":\"Shortcut\",\"link\":\"/Persistence Methods/Windows Persistence/shortcut\"},{\"text\":\"Startup Folder\",\"link\":\"/Persistence Methods/Windows Persistence/startupfolder\"}]},{\"text\":\"macOS Persistence\",\"link\":\"/Persistence Methods/macOS Persistence/overview\",\"items\":[{\"text\":\"launchd - Launch Agent\",\"link\":\"/Persistence Methods/macOS Persistence/launchd-standard-user\"},{\"text\":\"launchd - Launch Daemon\",\"link\":\"/Persistence Methods/macOS Persistence/launchd-root\"},{\"text\":\"launchd - Electron\",\"link\":\"/Persistence Methods/macOS Persistence/launchd-electron\"},{\"text\":\"launchd - System\",\"link\":\"/Persistence Methods/macOS Persistence/launchd-root-volume\"},{\"text\":\"Cron Jobs\",\"link\":\"/Persistence Methods/macOS Persistence/cronjobs\"}]},{\"text\":\"Linux Persistence\",\"link\":\"/Persistence Methods/Linux Persistence/overview\",\"items\":[{\"text\":\"systemd\",\"link\":\"/Persistence Methods/Linux Persistence/systemd\"},{\"text\":\"Cron Jobs\",\"link\":\"/Persistence Methods/Linux Persistence/cronjobs\"}]}]},{\"text\":\"Sample Payloads\",\"items\":[{\"text\":\"Windows Payload\",\"link\":\"/Sample Payloads/windows\"},{\"text\":\"Linux/macOS Payload\",\"link\":\"/Sample Payloads/linux-macos\"}]}],\"socialLinks\":[{\"icon\":\"github\",\"link\":\"https://github.com/Nekrosis-ISS-Capstone/Nekrosis\"}]},\"locales\":{},\"scrollOffset\":134,\"cleanUrls\":false}");</script>
    
  </body>
</html>